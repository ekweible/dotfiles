#!/usr/bin/env sh
# Sourced by every shell (whether interactive or not) via ~/.zprofile or ~/.bash_profile
# Should be compatible with any shell.

# Note: With chezmoi, dotfiles are managed from ~/.local/share/chezmoi
# But the modular .zsh files are in ~/.config/zsh for easy access
export PATH=$PATH:$HOME/bin
export PATH=$PATH:$HOME/.local/bin

# asdf (required for non-interactive shells)
export ASDF_DATA_DIR="${ASDF_DATA_DIR:-$HOME/.asdf}"
case ":$PATH:" in
  *":$ASDF_DATA_DIR/shims:"*) ;;
  *) export PATH="$ASDF_DATA_DIR/shims:$PATH" ;;
esac

# pnpm
export PNPM_HOME="$HOME/Library/pnpm"
case ":$PATH:" in
  *":$PNPM_HOME:"*) ;;
  *) export PATH="$PNPM_HOME:$PATH" ;;
esac

# bun
export BUN_INSTALL="$HOME/.bun"
case ":$PATH:" in
  *":$BUN_INSTALL/bin:"*) ;;
  *) export PATH="$PATH:$BUN_INSTALL/bin" ;;
esac

# Rust/Cargo
[ -f "$HOME/.cargo/env" ] && . "$HOME/.cargo/env"

{{ if ne .profile "work" -}}
# opencode cloud assistant
[ -f "$HOME/Developer/me/opencode-cloud/oca.sh" ] && . "$HOME/Developer/me/opencode-cloud/oca.sh"
{{ end -}}

{{ if eq .profile "work" -}}
# Work-specific paths and environment
{{- end }}

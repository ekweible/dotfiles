#!/bin/sh

#########################################
# Utility Functions

function dp() {
  cd $HOME/dev/ekweible/
  if [ ! -z ${1+x} ]; then cd $1; fi
}

function dw() {
  cd $HOME/dev/evanweible-wf/
  if [ ! -z ${1+x} ]; then cd $1; fi
}

function ds() {
  cd $HOME/dev/sandbox/
  if [ ! -z ${1+x} ]; then cd $1; fi
}

export DART_2_VERSION="2.4.0"

# Switch primary Dart install to Dart 1.x
function d1() {
  brew unlink dart
  brew unlink dart@1
  brew switch dart@1 1.24.3
  brew link --force dart@1
  dart --version
}

# Switch primary Dart install to latest Dart 2.x (2.2.0)
function d2() {
  brew unlink dart
  brew unlink dart@1
  brew switch dart $DART_2_VERSION
  brew link dart
  dart --version
}

function pub2get {
  export DART_2_PATH=/usr/local/Cellar/dart/$DART_2_VERSION/bin/
  _PUB_TEST_SDK_VERSION=1.24.3 "$DART_2_PATH/pub" get --no-precompile "$@" && pub get --offline "$@"
}

function pub2upgrade {
  export DART_2_PATH=/usr/local/Cellar/dart/$DART_2_VERSION/bin/
  _PUB_TEST_SDK_VERSION=1.24.3 "$DART_2_PATH/pub" upgrade --no-precompile "$@" && pub upgrade --offline "$@"
}
